import Api from "./api"
import Db from "./db"

config App:
  port: Int = env("PORT") ?? 3000
  dbUrl: String = env("FUSE_DB_URL") ?? "sqlite://reference-service.db"

app "Api":
  log("info", "starting reference service on port ${App.port} with db ${App.dbUrl}")
  log("info", "register/login via http://localhost:${App.port}/api/auth/* then use /api/sessions/{token}/notes")
  serve(App.port)
